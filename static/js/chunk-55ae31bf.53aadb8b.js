(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55ae31bf"],{"0330":function(t,e,a){},1637:function(t,e,a){},2822:function(t,e,a){"use strict";var i=a("babe"),r=a.n(i);r.a},babe:function(t,e,a){},cd6f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"va-body-container"},[t.isMobile?t._e():a("h1",{staticClass:"dashboard-title"},[a("va-icon",{staticClass:"text-primary",attrs:{icon:"chart-dashboard"}}),t._v(" "),a("span",[t._v(t._s(t.$t("router.dashboard")))]),t._v(" "),a("span",{staticClass:"float-r dashboard-filters"},[a("el-select",{attrs:{placeholder:"Your Profile",value:""}},t._l(t.profilePreset,function(e){return a("el-option",{key:e,attrs:{label:t.$t("dashboard.filters."+e),value:e,disabled:""}})}),1),t._v(" "),a("el-select",{model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}},t._l(t.datePreset,function(e){return a("el-option",{key:e,attrs:{label:t.$t("dashboard.filters."+e),value:e}})}),1)],1)],1),t._v(" "),a("el-row",{staticClass:"panel-groups",attrs:{gutter:t.panelGutter}},[t._l(Object.keys(t.data),function(e,i){return[a("el-col",{key:e,attrs:{xs:6,sm:6,lg:6}},[a("chart-tabs",{ref:"panel_chart",refInFor:!0,attrs:{title:t.$t("dashboard."+e),category:t.category,total:t.data[e].total,"chart-data":"countries"!==e?t.data[e].data:void 0,"data-type":t.data[e].dataType,suffix:t.data[e].suffix,decimals:t.data[e].decimals,active:i===t.activeIndex},nativeOn:{click:function(e){t.activeIndex=i}}})],1)]})],2),t._v(" "),a("chart-details",{ref:"chartDetails",attrs:{"chart-data":t.detailData,category:t.category,"is-percent":2===t.activeIndex,"is-chart-map":3===t.activeIndex}}),t._v(" "),a("el-row",{staticStyle:{"margin-top":"15px"},attrs:{gutter:15}},[a("el-col",{staticStyle:{"margin-bottom":"15px"},attrs:{md:24,lg:16}},[a("chart-ages",{ref:"chartAges",attrs:{"chart-data":t.attach.ages}})],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"15px"},attrs:{md:24,lg:8}},[a("traffic-analysis",{attrs:{"total-pv":t.data.pv.total,sources:t.attach.sources,interviews:t.attach.interviews}})],1)],1)],1)},r=[],s=(a("ac6a"),a("456d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"va-panels panel-card",class:{"border-primary":t.active&&!t.isMobile,"text-primary":t.active&&t.isMobile}},[t.isMobile?t._e():a("h6",{staticClass:"panel-card-title",class:t.active?"text-primary":"text-secondary"},[a("span",[t._v(t._s(t.title))]),t._v(" "),a("a",{staticClass:"handle-tab-detail",class:{"text-primary":t.active}},[a("i",{staticClass:"el-icon-arrow-right float-r handle-tab-detail"})])]),t._v(" "),a("i-count-to",{staticClass:"panel-card-total",class:t.totalSpanClass,attrs:{"start-val":0,"end-val":"percent"===t.dataType?100*t.total:t.total,prefix:t.prefix,suffix:t.suffix,decimals:t.decimals,duration:t.animateDuration}}),t._v(" "),t.isMobile?a("h6",{staticClass:"panel-card-title is-mobile",class:t.active?"text-primary":"text-secondary"},[t._v(t._s(t.title))]):t._e(),t._v(" "),!t.isMobile&&t.chartData?a("div",{ref:"chartEl",staticClass:"panel-card-chart"}):t._e()],1)}),o=[],l=(a("c5f6"),{props:{chartData:{type:Array,required:!0}},data:function(){return{tooltip:{backgroundColor:"rgba(255, 255, 255, .86)",extraCssText:"box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);",padding:[7,12],textStyle:{color:"#343a40",fontSize:12}}}},computed:{isMobile:function(){return"mobile"===this.$store.getters.device},themeColor:function(){return this.$store.getters.theme.color}},mounted:function(){this.chartData&&this.chartData.length>0&&this.draw()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler),this.sidebar&&this.sidebar.removeEventListener("transitionend",this.resizeHandler),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{draw:function(){var t=this;!this.chartData||this.chartData.length<1||(this.init(),this.resizeHandler=function(){t.chart&&t.chart.resize()},window.addEventListener("resize",this.resizeHandler),this.sidebar=document.querySelector(".va-side-wrapper"),this.sidebar&&this.sidebar.addEventListener("transitionend",this.resizeHandler))}}}),n=a("ec1b"),c=a.n(n),h=a("313e"),d=a.n(h),u={components:{ICountTo:c.a},mixins:[l],props:{title:{type:String,required:!0},category:{type:Array,required:!0},total:{type:Number,required:!1,default:void 0},chartData:{type:Array,required:!1,default:null},dataType:{type:String,required:!1,default:"normal"},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},decimals:{type:Number,required:!1,default:0},active:{type:Boolean,required:!1,default:!1}},data:function(){return{animateDuration:1500}},computed:{totalSpanClass:function(){return{"text-primary":!this.chartData&&!this.isMobile,"null-data":!this.chartData&&!this.isMobile,"text-center":this.isMobile}}},watch:{themeColor:function(){this.chart&&this.chart.setOption({color:this.themeColor,series:[{areaStyle:{color:this.areaColor()}}]})}},methods:{areaColor:function(){return"".concat(this.themeColor,"30")},init:function(){this.isMobile||(this.chart||(this.chart=d.a.init(this.$refs["chartEl"])),this.chart.setOption({color:[this.themeColor],tooltip:{show:!1},grid:{top:12,right:7,bottom:7,left:7},xAxis:{type:"category",boundaryGap:!1,data:this.category,show:!1,inverse:!0},yAxis:{type:"value",boundaryGap:!1,show:!1},series:[{data:this.chartData,type:"line",sampling:"average",showSymbol:!1,smooth:!0,areaStyle:{color:this.areaColor()}}]}))}}},p=u,f=(a("d259"),a("2877")),b=Object(f["a"])(p,s,o,!1,null,"cc4a6644",null),v=b.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"va-panels chart-detail-wrapper",class:{x2:t.isMobile&&t.isChartMap},staticStyle:{transition:"none"}})},y=[],g=(a("7f7f"),a("c54d"),a("dd61")),x=a.n(g),C={mixins:[l],props:{category:{type:Array,required:!0},isPercent:{type:Boolean,required:!1,default:!1},isChartMap:{type:Boolean,required:!1,default:!1}},data:function(){return{chartTypeChanged:!1}},watch:{isChartMap:function(){this.chartTypeChanged=!0},themeColor:function(){if(this.chart){var t=this.isChartMap?{visualMap:{inRange:{color:[this.colorStart(),this.themeColor]}},series:[{},{itemStyle:{color:this.themeColor}}]}:{color:[this.themeColor],series:[{areaStyle:{color:this.areaColor()}}]};this.chart.setOption(t)}}},methods:{areaColor:function(){return"".concat(this.themeColor,"30")},colorStart:function(){return x.a.convert("color(".concat(this.themeColor," tint(90%))"))},optionsLine:function(){var t=this,e=this.isMobile?{top:10,right:0,bottom:20,left:0}:{top:40,right:40,bottom:40,left:60};return{color:[this.themeColor],grid:e,tooltip:Object.assign({},this.tooltip,{trigger:"axis",formatter:function(e){return"".concat(e[0].name,"<br />").concat(e[0].marker).concat(e[0].value).concat(t.isPercent?"%":"")}}),xAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},boundaryGap:!1,data:this.category,inverse:!0,axisLabel:{color:"#6a6d71"}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#e6edf1"}},axisLabel:{color:"#6a6d71"}},axisPointer:{lineStyle:{color:"#ced4da"}},series:[{data:this.chartData,type:"line",sampling:"average",showSymbol:!1,smooth:!0,areaStyle:{color:this.areaColor()}}]}},optionsMap:function(){var t=this.chartData.map(function(t){return t.name}).slice(0,5),e=Object.assign({text:"TOP5 COUNTRIES FOR PV",textStyle:{color:"#6a6d71",fontSize:14}},this.isMobile?{top:"45%",left:"center"}:{left:"65.6%",top:20}),a=Object.assign({map:"world",itemStyle:{areaColor:"#e9ebf0",borderColor:"#e9ebf0"}},this.isMobile?{top:0,right:0,bottom:"60%",left:0}:{top:30,right:"40%",bottom:30,left:30}),i=this.isMobile?{top:"56%",right:0,bottom:0,left:0}:{top:66,right:60,bottom:6,left:"66%",z:99};return{title:e,tooltip:Object.assign({},this.tooltip,{trigger:"item",formatter:function(t){return t.data?"".concat(t.marker).concat(t.name,": ").concat(t.value):void 0}}),visualMap:{left:"right",min:0,max:this.chartData[0].value,inRange:{color:[this.colorStart(),this.themeColor]},text:["High","Low"],seriesIndex:0,calculable:!1,show:!1},geo:a,grid:i,xAxis:{type:"value",show:!1},yAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{fontSize:13,inside:!0,margin:0,verticalAlign:"bottom",padding:[0,0,16,0]},data:t,inverse:!0},series:[{type:"map",data:this.chartData,geoIndex:0},{type:"bar",barWidth:6,label:{show:!0,position:"right",color:"#343a40"},itemStyle:{barBorderRadius:3,color:this.themeColor},data:this.chartData.map(function(t){return t.value}).slice(0,5),silent:!0}]}},init:function(){this.chart||(this.chart=d.a.init(this.$el)),this.chartTypeChanged&&(this.chart.clear(),this.chart.resize(),this.chartTypeChanged=!1),this.chart.setOption(this.isChartMap?this.optionsMap():this.optionsLine())}}},w=C,_=Object(f["a"])(w,m,y,!1,null,null,null),S=_.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"va-panels chart-detail-wrapper"})},D=[],M={mixins:[l],watch:{themeColor:function(){this.chart&&this.chart.setOption({color:[this.calcColors(this.themeColor)],series:[{itemStyle:{borderColor:this.themeColor},emphasis:{itemStyle:{color:this.calcColors(this.themeColor)}}}]})}},methods:{calcColors:function(t){return x.a.convert("color(".concat(t," tint(80%))"))},init:function(){this.chart||(this.chart=d.a.init(this.$el));var t=this.isMobile?{top:70,right:0,bottom:20,left:0}:{top:60,right:0,bottom:20,left:50},e=Object.assign({itemGap:20,data:["male","female","unknown"]},this.isMobile?{top:30,right:"auto",left:0}:{top:0,right:0,left:"auto"});this.chart.setOption({title:{text:"AGE & GENDER DISTRIBUTION",textStyle:{color:"#6a6d71",fontSize:14}},grid:t,tooltip:Object.assign({},this.tooltip,{trigger:"axis"}),color:[this.calcColors(this.themeColor),this.calcColors("#d90378"),this.calcColors("#6a6d71")],legend:e,xAxis:{type:"category",axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6edf1"}},axisLabel:{color:"#6a6d71"}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#e6edf1"}},axisLabel:{color:"#6a6d71"}},axisPointer:{lineStyle:{color:"#ced4da"}},dataset:{dimensions:["section","male","female","unknown"],source:this.chartData},series:[{type:"bar",barWidth:12,itemStyle:{barBorderRadius:3,borderWidth:1,borderColor:this.themeColor},emphasis:{itemStyle:{color:this.calcColors(this.themeColor)}},silent:!0},{type:"bar",barWidth:12,itemStyle:{barBorderRadius:3,borderWidth:1,borderColor:"#d90378"},emphasis:{itemStyle:{color:this.calcColors("#d90378")}},silent:!0,barGap:this.isMobile?"16%":"50%"},{type:"bar",barWidth:12,itemStyle:{barBorderRadius:3,borderWidth:1,borderColor:"#adb5bd"},emphasis:{itemStyle:{color:this.calcColors("#6a6d71")}},silent:!0}]})}}},O=M,T=Object(f["a"])(O,k,D,!1,null,null,null),A=T.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"va-panels",staticStyle:{height:"400px"}},[a("div",{staticClass:"traffic-tab"},t._l(t.tabs,function(e,i){return a("span",{key:i,staticClass:"traffic-tab-item",class:{active:i===t.actives},on:{click:function(e){t.actives=i}}},[t._v("\n      "+t._s(e)+"\n    ")])}),0),t._v(" "),a("el-table",{attrs:{data:0===t.actives?t.sources:t.interviews,"default-sort":{prop:"pv",order:"descending"},size:"large"}},[a("el-table-column",{attrs:{prop:"url",label:"URL","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[0===t.actives?[a("a",{staticClass:"link-theme",attrs:{target:"_blank",href:"https://"+e.row.url}},[t._v(t._s(e.row.url))])]:[a("router-link",{staticClass:"link-theme",attrs:{to:e.row.url}},[t._v(t._s(e.row.url))])]]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pv",label:"PV",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ratio",label:"RATIO",width:"70",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.calcRatio(e.row.pv,t.totalPv)))]}}])})],1)],1)},R=[],E={props:{totalPv:{type:Number,required:!0},sources:{type:Array,required:!0},interviews:{type:Array,required:!0}},data:function(){return{tabs:["TOP6 SOURCE","TOP6 INTERVIEW"],actives:0}},methods:{calcRatio:function(t,e){return(t/e*100).toFixed(2)+"%"}}},I=E,q=(a("f58e"),Object(f["a"])(I,L,R,!1,null,"3c68d810",null)),P=q.exports,$=a("5c96"),z=a("f46b"),j={pv:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={start:t,end:e};return z["a"].post("/statistics/pv",a)}},G={name:"Dashboard",metaInfo:{title:"Dashboard"},components:{ChartTabs:v,ChartDetails:S,ChartAges:A,TrafficAnalysis:P},data:function(){return{dateRange:31,datePreset:[31,61,92,183,365],profilePreset:["pv","sales"],category:[],data:{pv:{total:0,data:[]},uv:{total:0,data:[]},cvr:{total:0,data:[],dataType:"percent",suffix:" %",decimals:2},countries:{total:0,data:[]}},activeIndex:0,detailData:[],attach:{ages:[],sources:[],interviews:[]}}},computed:{isMobile:function(){return"mobile"===this.$store.getters.device},panelGutter:function(){return this.isMobile?0:15}},mounted:function(){this.requestPv()},updated:function(){this.checkDetails(),this.$refs["chartAges"].draw()},methods:{checkDetails:function(){this.detailData=this.data[Object.keys(this.data)[this.activeIndex]].data,this.$refs["chartDetails"].draw()},requestPv:function(){var t=this;this.loadingInstance=$["Loading"].service({lock:!0,text:"loading...",background:"rgba(255, 255, 255, .5)"}),j.pv().then(function(e){t.loadingInstance.close(),e.success&&(t.data.pv.total=e.totalPV,t.data.uv.total=e.totalUV,t.data.cvr.total=e.averageCVR,t.data.countries.total=e.areas.length,e.data.forEach(function(e){t.category.push(e.date),t.data.pv.data.push(e.pv),t.data.uv.data.push(e.uv),t.data.cvr.data.push((100*e.cvr).toFixed(2))}),t.data.countries.data=e.areas,t.attach.ages=e.ages,t.attach.sources=e.traffics.source,t.attach.interviews=e.traffics.interview,t.isMobile||t.$refs["panel_chart"].forEach(function(t){t.draw()}))})}}},B=G,W=(a("2822"),Object(f["a"])(B,i,r,!1,null,"323b9af0",null));e["default"]=W.exports},d259:function(t,e,a){"use strict";var i=a("1637"),r=a.n(i);r.a},f58e:function(t,e,a){"use strict";var i=a("0330"),r=a.n(i);r.a}}]);